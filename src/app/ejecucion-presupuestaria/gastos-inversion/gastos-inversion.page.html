<ion-header mode="md">
  <ion-toolbar class="header-color">
    <ion-title>
      <ion-grid>
        <ion-row>
          <ion-col size="2" class="iconTitle">
            <ion-menu-button>
              <ion-icon name="reorder-three-outline"></ion-icon>
            </ion-menu-button>
          </ion-col>
          <ion-col size="10">
            <div class="ion-text-center">
              <h2>Gastos e inversión</h2>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="false" class="ion-no-padding fondoStrongWhite">
  <div class="fondoContenedor">
    <div class="btnAtras">
      <ion-button fill="clear" (click)="goBack()" class="ion-no-padding" routerDirection='back'>
        <ion-icon name="chevron-back-outline"></ion-icon> Atrás
      </ion-button>
    </div>
    <div class="titulo">
      <h3>Reporte de Gastos e inversión</h3>
    </div>

    <div class="contenedorTabla">
      <div *ngFor="let info of lstGastos">
        <ion-card class="ion-no-padding ion-no-margin" style="margin-bottom: 5px;" *ngIf="info['secretaria'] != 'Total general'">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="cash-outline"></ion-icon>
              {{ info['secretaria'] }}
            </ion-card-title>
            <ion-card-subtitle>Nro.: {{ info['num'] }}</ion-card-subtitle>
          </ion-card-header>        
          <ion-card-content>
            <ion-row>
              <ion-col size="9" class="ion-no-padding ion-no-margin">PPT Vigente: {{ info['ppto_vigente'] }}</ion-col>
              <ion-col size="3">%: <ion-badge color="warning" style="font-size: 12px;">{{  info['porcentaje'] }}</ion-badge></ion-col>
            </ion-row>
            <p>Devengado: {{ info['devengado'] }}</p>
            <p>Saldo PPTO: <ion-badge color="verdeclaro" style="font-size: 12px;">{{ info['saldo_ppto'] }}</ion-badge></p>
          </ion-card-content>
        </ion-card>
        <ion-card class="ion-no-padding ion-no-margin" style="margin-bottom: 5px;" *ngIf="info['secretaria'] === 'Total general'">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="cash-outline"></ion-icon>
              {{ info['secretaria'] }}
            </ion-card-title>
            <ion-card-subtitle>Nro.: {{ info['num'] }}</ion-card-subtitle>
          </ion-card-header>        
          <ion-card-content style="background-color: #e871a330;">
            <ion-row>
              <ion-col size="9" class="ion-no-padding ion-no-margin">PPT Vigente: {{ info['ppto_vigente'] }}</ion-col>
              <ion-col size="3">%: <ion-badge color="warning" style="font-size: 12px;">{{  info['porcentaje'] }}</ion-badge></ion-col>
            </ion-row>
            <p>Devengado: {{ info['devengado'] }}</p>
            <p>Saldo PPTO: <ion-badge color="verdeclaro" style="font-size: 12px;">{{  info['saldo_ppto'] }}</ion-badge></p>
          </ion-card-content>
        </ion-card>
      </div>
    </div>
    <div class="contenedorTotales">
      <div *ngFor="let infot of lstTotal">
        <ion-card class="ion-no-padding ion-no-margin" style="margin-bottom: 5px;">
          <ion-card-header>
            <ion-card-title>
              <ion-icon name="wallet-outline"></ion-icon>
              TOTALES
            </ion-card-title>
          </ion-card-header>        
          <ion-card-content>
            <p>Ejecución: {{ infot['num_ejec'] }}</p>
            <p>PPTO Vigente: {{ infot['ppto_vigente_ejec'] }}</p>
            <p>Devengado: {{ infot['devengado'] }}</p>
            <p>Porcentaje: {{ infot['porcentaje'] }}</p>
            <p>Saldo PPTO: {{ infot['saldo_ppto'] }}</p>
            <hr/>
            <p>Sin Ejecución: {{ infot['num_sn_ejec'] }}</p>
            <p>PPTO Vigente: {{ infot['ppto_vigente_sn_ejec'] }}</p>
          </ion-card-content>
        </ion-card>
      </div>
    </div>

    <div class="contenedorGrafica">
      <ion-card class="ion-no-padding ion-no-margin">
        <ion-card-header>
          <ion-card-title>
            <ion-icon name="pie-chart-outline"></ion-icon>
            Cantitad de Proyectos por Secretaria Municipal
          </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <canvas #barChart></canvas>
        </ion-card-content>
      </ion-card> 
    </div>
  </div>
</ion-content>